// assignment 7, LCD display demo using adruino uno, 16x2 LCD via i2c
// Joshua Eanes, NCAT ECEN102 3/2/2022

#include <Wire.h>
#include <LiquidCrystal_I2C.h>

#define printByte(args)  write(args); // for duck duck goose

LiquidCrystal_I2C lcd(0x27,16,2); // uses i2c address 0x27

void setup() {
  lcd.init(); // initialize lcd display
  lcd.backlight();  // activate the backlight
  lcd.setCursor(2,0);
  lcd.print("Joshua Eanes");
  delay(1500);
  lcd.setCursor(0,1);
  lcd.print("ECEN102 NCAT '22");
  delay(1500);
  lcd.clear();
}

void loop() {
  printGreeting();
  heyGoose();
  horseTime();
}

// functions
void heyGoose(){
    uint8_t duck[8]  = {0x0,0xc,0x1d,0xf,0xf,0x6,0x0};  // there's a duck
    lcd.createChar(0, duck);  // catch the duck 
    for (int i=0;i<16;i++){
    if (i%2){
      lcd.setCursor(random(0,6),0);
      lcd.print("hey goose"); // i mean duck
    }
    lcd.setCursor((15-i),1);
    lcd.printByte(0);
    delay(500);
    lcd.clear();
  }
}
void printGreeting(){
  String names[] = {"Walter","Nana","Adrienne","Joshua",
                    "Kalen","Ashton","Daymone","Isaac","Dallas",
                    "Boaz","Elijah","Brian","Demetrius","Henoch",
                    "Nicholas","Jonathan","Althaf","Asrif","Bradford"};
                    // i guess not a lot of people come to class?
  for (int i=0; i<3; i++){    
    String classmate = names[random(0,18)]; // pick a card, any card
    int n = random(0,15 - classmate.length());  // pick a number, not too long though
    lcd.clear();
    lcd.setCursor(random(0,12),0);
    lcd.print("Hey");
    delay(500);
    lcd.setCursor(n,1);
    lcd.print(classmate);
    delay(1500);
    lcd.clear();
  }
}
void horseTime(){
  // stole this from dadecoza on github
  // not the dice though, that was my bad idea
  int x = 0;
  lcd.clear();
  byte chr[3][8][8] = {
  {
    {0x00, 0x00, 0x00, 0x00, 0x03, 0x07, 0x0E, 0x0E},
    {0x00, 0x00, 0x00, 0x00, 0x0F, 0x1F, 0x1F, 0x1F},
    {0x00, 0x00, 0x00, 0x03, 0x07, 0x1F, 0x1F, 0x1F},
    {0x00, 0x00, 0x05, 0x1F, 0x1D, 0x1F, 0x16, 0x06},
    {0x0C, 0x18, 0x10, 0x00, 0x01, 0x01, 0x01, 0x00},
    {0x1F, 0x1F, 0x1E, 0x17, 0x00, 0x00, 0x10, 0x00},
    {0x1F, 0x1F, 0x03, 0x02, 0x14, 0x04, 0x02, 0x00},
    {0x1C, 0x1C, 0x04, 0x04, 0x08, 0x00, 0x00, 0x00}
  },
  {
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x0F, 0x1E},
    {0x00, 0x00, 0x00, 0x00, 0x0E, 0x1F, 0x1F, 0x1F},
    {0x00, 0x00, 0x00, 0x01, 0x07, 0x1F, 0x1F, 0x1F},
    {0x00, 0x05, 0x1F, 0x1D, 0x1F, 0x1B, 0x13, 0x10},
    {0x13, 0x03, 0x06, 0x0C, 0x10, 0x10, 0x00, 0x00},
    {0x1F, 0x17, 0x06, 0x0C, 0x10, 0x10, 0x00, 0x00},
    {0x1F, 0x1F, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00},
    {0x10, 0x18, 0x1C, 0x08, 0x08, 0x00, 0x10, 0x00}
  },
  {
    {0x00, 0x00, 0x00, 0x07, 0x0F, 0x0E, 0x1C, 0x18},
    {0x00, 0x00, 0x00, 0x0F, 0x1F, 0x1F, 0x1F, 0x1F},
    {0x00, 0x00, 0x01, 0x03, 0x1F, 0x1F, 0x1F, 0x1F},
    {0x14, 0x1C, 0x1A, 0x1E, 0x1F, 0x13, 0x10, 0x10},
    {0x13, 0x13, 0x02, 0x02, 0x04, 0x00, 0x00, 0x00},
    {0x1F, 0x07, 0x0E, 0x06, 0x01, 0x00, 0x00, 0x00},
    {0x0F, 0x03, 0x03, 0x01, 0x01, 0x00, 0x00, 0x00},
    {0x10, 0x18, 0x0C, 0x02, 0x02, 0x11, 0x00, 0x00}
  }
  };
  
  int dice = random(1,6) + random(1,6);
  if (dice == 7 || dice == 11){  // roll the dice, see a horse
    for (int h = 0; h<5; h++){
      if (x > 15) x = -4;
      for (int f = 0; f < 3; f++) {
        lcd.clear();
        for (int i=0; i<8; i++) {
          lcd.createChar(i, chr[f][i]);
        }
        for (int c = 0; c < 4; c++) {
          int xc = x+c;
          if ((xc >= 0)&&(xc < 16)) {
            lcd.setCursor(x+c, 0); lcd.write(byte(c));
            lcd.setCursor(x+c, 1); lcd.write(byte(c+4));
          }
        }
        x++;
        delay(400);
      }
  }
  }
  lcd.clear();
}
